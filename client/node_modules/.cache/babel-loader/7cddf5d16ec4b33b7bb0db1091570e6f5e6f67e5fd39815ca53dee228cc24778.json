{"ast":null,"code":"export function findElementFuzzy(selector) {\n  console.log(\"Searching for element:\", selector);\n  // Try exact match first\n  let element = document.querySelector(selector);\n  if (element) {\n    console.log(\"Exact match found:\", element);\n    return element;\n  }\n\n  // If not found, try fuzzy matching\n  const allElements = document.querySelectorAll('*');\n  let bestMatch = null;\n  let highestScore = 0;\n  allElements.forEach(el => {\n    const score = calculateSimilarity(getElementIdentifiers(el), selector);\n    if (score > highestScore) {\n      highestScore = score;\n      bestMatch = el;\n    }\n  });\n  if (bestMatch) {\n    console.log(`Fuzzy match found for \"${selector}\":`, bestMatch, \"with score:\", highestScore);\n  } else {\n    console.log(`No match found for \"${selector}\"`);\n  }\n  return bestMatch;\n}\nexport function highlightElement(element, color) {\n  const originalOutline = element.style.outline;\n  element.style.outline = `2px solid ${color}`;\n  setTimeout(() => {\n    element.style.outline = originalOutline;\n  }, 500);\n}\nexport function simulateMouseEvents(element, events) {\n  events.forEach(eventType => {\n    const rect = element.getBoundingClientRect();\n    const event = new MouseEvent(eventType, {\n      view: window,\n      bubbles: true,\n      cancelable: true,\n      clientX: rect.left + rect.width / 2,\n      clientY: rect.top + rect.height / 2\n    });\n    element.dispatchEvent(event);\n  });\n}\nexport function waitForOptions(optionValue, timeout = 5000) {\n  return new Promise((resolve, reject) => {\n    const startTime = Date.now();\n    const intervalId = setInterval(() => {\n      const options = document.querySelectorAll('[role=\"option\"]');\n      for (let option of options) {\n        if (option.textContent.trim().toLowerCase().includes(optionValue.toLowerCase())) {\n          clearInterval(intervalId);\n          resolve(option);\n          return;\n        }\n      }\n      if (Date.now() - startTime > timeout) {\n        clearInterval(intervalId);\n        reject(new Error(`Option \"${optionValue}\" not found within ${timeout}ms`));\n      }\n    }, 100);\n  });\n}\nfunction getElementIdentifiers(element) {\n  return [element.id, element.name, element.className, element.tagName.toLowerCase(), element.getAttribute('data-testid'), ...Array.from(element.attributes).map(attr => `${attr.name}=\"${attr.value}\"`)].filter(Boolean).join(' ');\n}\nfunction calculateSimilarity(str1, str2) {\n  const set1 = new Set(str1.toLowerCase().split(/\\W+/));\n  const set2 = new Set(str2.toLowerCase().split(/\\W+/));\n  const intersection = new Set([...set1].filter(x => set2.has(x)));\n  return intersection.size / Math.max(set1.size, set2.size);\n}\n\n// Export additional functions if they need to be used outside this module\nexport { getElementIdentifiers, calculateSimilarity };","map":{"version":3,"names":["findElementFuzzy","selector","console","log","element","document","querySelector","allElements","querySelectorAll","bestMatch","highestScore","forEach","el","score","calculateSimilarity","getElementIdentifiers","highlightElement","color","originalOutline","style","outline","setTimeout","simulateMouseEvents","events","eventType","rect","getBoundingClientRect","event","MouseEvent","view","window","bubbles","cancelable","clientX","left","width","clientY","top","height","dispatchEvent","waitForOptions","optionValue","timeout","Promise","resolve","reject","startTime","Date","now","intervalId","setInterval","options","option","textContent","trim","toLowerCase","includes","clearInterval","Error","id","name","className","tagName","getAttribute","Array","from","attributes","map","attr","value","filter","Boolean","join","str1","str2","set1","Set","split","set2","intersection","x","has","size","Math","max"],"sources":["/Users/tommy/Desktop/ottom888/client/src/utils/domUtils.js"],"sourcesContent":["export function findElementFuzzy(selector) {\n  console.log(\"Searching for element:\", selector);\n  // Try exact match first\n  let element = document.querySelector(selector);\n  if (element) {\n    console.log(\"Exact match found:\", element);\n    return element;\n  }\n\n  // If not found, try fuzzy matching\n  const allElements = document.querySelectorAll('*');\n  let bestMatch = null;\n  let highestScore = 0;\n\n  allElements.forEach(el => {\n    const score = calculateSimilarity(getElementIdentifiers(el), selector);\n    if (score > highestScore) {\n      highestScore = score;\n      bestMatch = el;\n    }\n  });\n\n  if (bestMatch) {\n    console.log(`Fuzzy match found for \"${selector}\":`, bestMatch, \"with score:\", highestScore);\n  } else {\n    console.log(`No match found for \"${selector}\"`);\n  }\n\n  return bestMatch;\n}\n\nexport function highlightElement(element, color) {\n  const originalOutline = element.style.outline;\n  element.style.outline = `2px solid ${color}`;\n  setTimeout(() => {\n    element.style.outline = originalOutline;\n  }, 500);\n}\n\nexport function simulateMouseEvents(element, events) {\n  events.forEach(eventType => {\n    const rect = element.getBoundingClientRect();\n    const event = new MouseEvent(eventType, {\n      view: window,\n      bubbles: true,\n      cancelable: true,\n      clientX: rect.left + rect.width / 2,\n      clientY: rect.top + rect.height / 2\n    });\n    element.dispatchEvent(event);\n  });\n}\n\nexport function waitForOptions(optionValue, timeout = 5000) {\n  return new Promise((resolve, reject) => {\n    const startTime = Date.now();\n    const intervalId = setInterval(() => {\n      const options = document.querySelectorAll('[role=\"option\"]');\n      for (let option of options) {\n        if (option.textContent.trim().toLowerCase().includes(optionValue.toLowerCase())) {\n          clearInterval(intervalId);\n          resolve(option);\n          return;\n        }\n      }\n      if (Date.now() - startTime > timeout) {\n        clearInterval(intervalId);\n        reject(new Error(`Option \"${optionValue}\" not found within ${timeout}ms`));\n      }\n    }, 100);\n  });\n}\n\nfunction getElementIdentifiers(element) {\n  return [\n    element.id,\n    element.name,\n    element.className,\n    element.tagName.toLowerCase(),\n    element.getAttribute('data-testid'),\n    ...Array.from(element.attributes).map(attr => `${attr.name}=\"${attr.value}\"`)\n  ].filter(Boolean).join(' ');\n}\n\nfunction calculateSimilarity(str1, str2) {\n  const set1 = new Set(str1.toLowerCase().split(/\\W+/));\n  const set2 = new Set(str2.toLowerCase().split(/\\W+/));\n  const intersection = new Set([...set1].filter(x => set2.has(x)));\n  return intersection.size / Math.max(set1.size, set2.size);\n}\n\n// Export additional functions if they need to be used outside this module\nexport { getElementIdentifiers, calculateSimilarity };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}